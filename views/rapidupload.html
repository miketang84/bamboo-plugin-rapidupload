<script src="/media/plugins/rapidupload/fileuploader.js" type="text/javascript"></script>
<link href="/media/plugins/rapidupload/fileuploader.css" rel="stylesheet" type="text/css">
<script>
$(document).ready(function () {
	
	var uploader;
	function createUploader(){            
			uploader = new qq.FileUploader({
			params: {},
			element: $('.rapidupload')[0],
			action: '/legecmsadmin/artist/logoupload',
			debug: true,
			sizeLimit: 20000000,
			maxConnections: 1,
			fileTemplate: '<div class="qq-uploading">' +
            '<span class="qq-upload-file"></span>' +
            '<span class="qq-upload-spinner"></span>' +
            '<span class="qq-upload-size"></span>' +
            '<a class="qq-upload-cancel" href="#">Cancel</a>' +
            '<span class="qq-upload-failed-text">Failed</span>' +
        '</div>',
			messages: {
				typeError: "{file} 扩展名不合要求。只有扩展名为 {extensions} 的文件被允许上传。",
				sizeError: "{file} 文件太大，最大限制为 {sizeLimit}。",
				minSizeError: "{file} 文件太小，最小限制为 {minSizeLimit}。",
				emptyError: "{file} 文件是空的，请重新选择文件。",
				onLeave: "文件正在上传，如果此时离开，将会停止上传。"            
			},
			onComplete: function (id, fileName, result) {
				if (result.success){
					/*
					var imgids = $.trim($('#imgids').val());
					if (imgids.length == 0){
						$('#imgids').val(result.imgid);
					} else {
						$('#imgids').val($('#imgids').val() + ',' + result.imgid);
					}
					*/
				}
			}
		});
	}
	createUploader();
	
});
</script>

<div class="rapidupload" ></div>


